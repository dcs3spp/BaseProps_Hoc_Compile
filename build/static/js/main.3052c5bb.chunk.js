(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{62:function(e,t,n){e.exports=n(78)},76:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var o,r=n(0),c=n(37),a=n(25),i=n(26),l=n(31),s=n(27),u=n(32),p=n(19),m=n(51),f=function(){return r.createElement(r.Fragment,null,r.createElement("p",null,"Home"),r.createElement(p.b,{to:"/posts"},"Posts"))},d=n(24),E=function(e){var t=e.post;return r.createElement(r.Fragment,null,r.createElement(r.Fragment,null,r.createElement("p",null,t.id)))},O=n(10);!function(e){e.ALL_POSTS_REQUEST="[course] ALL_POSTS_REQUEST",e.ALL_POSTS_SUCCESS="[course] ALL_POSTS_SUCCESS",e.ALL_POSTS_FAIL="[course] ALL_POSTS_FAIL"}(o||(o={}));var b,g=o;!function(e){e.CLEAR_ERROR="[core] CLEAR_ERROR",e.NOTIFY_ERROR="[core] NOTIFY_ERROR"}(b||(b={}));var h=b,j=Object(O.createAsyncAction)(g.ALL_POSTS_REQUEST,g.ALL_POSTS_SUCCESS,h.NOTIFY_ERROR)(),y=n(39),R=Object(O.createAction)(h.CLEAR_ERROR,function(e,t,n,o){return{history:n||void 0,navigateTo:o||void 0,fromAction:e,fromComponent:t}})(),S=n(60),L=n.n(S),v={clearError:R},_=Object(d.b)(null,v)(function(e){var t=e.info,n=e.clearError,o=e.history;return r.createElement(r.Fragment,null,r.createElement("p",null,"Error ",t.message),r.createElement("p",null,"Received from action ",t.fromAction),r.createElement("p",null,"Received for component id ",t.fromComponent),r.createElement("button",{onClick:function(){console.log("Go home button has been clicked"),n(t.fromAction,t.fromComponent,o,"/")}},"Home"))}),A={fetchPosts:j.request},C=function(e){var t={clearError:R},n=function(t){function n(){return Object(a.a)(this,n),Object(l.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(u.a)(n,t),Object(i.a)(n,[{key:"render",value:function(){var t=Object(y.a)({},this.props);return console.log("withErrorListener [error_count=".concat(this.props.filteredErrors.length,"]")),this.props.filteredErrors.length>0?r.createElement(_,Object.assign({info:this.props.filteredErrors[0]},t)):r.createElement(e,t)}}]),n}(r.Component);n.displayName="withErrorListener(".concat(e.name,")"),n.WrappedComponent=e;var o=Object(d.b)(function(e,t){return console.log("withErrorListener mapStateToProps => ".concat(t.uniqueId)),{filteredErrors:[]}},t)(n);return function(e){var t,n;return n=t=function(t){function n(){var e,t;Object(a.a)(this,n);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return(t=Object(l.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(r)))).state={uniqueId:String(L()())},t}return Object(u.a)(n,t),Object(i.a)(n,[{key:"render",value:function(){var t=Object(y.a)({},this.props),n=this.state.uniqueId;return r.createElement(e,Object.assign({uniqueId:n},t))}}]),n}(r.Component),t.displayName="withIdListener(".concat(e.name,")"),t.WrappedComponent=e,n}(Object(m.f)(o))}(Object(d.b)(function(e){return{isLoading:e.posts.isLoadingPosts,posts:[]}},A)(function(e){var t=e.posts,n=void 0===t?[]:t,o=e.uniqueId,c=e.fetchPosts,a=e.isLoading;return r.useEffect(function(){console.log("PostListBase dispatching PostsRequest action with id ".concat(o)),c({componentId:o,fail:Math.random()<.5})},[c,o]),a?r.createElement(r.Fragment,null,r.createElement("p",null,"Loading..."),r.createElement(p.b,{to:"/"},"Home")):r.createElement("div",{style:{marginTop:20,padding:30}},r.createElement(p.b,{to:"/"},"Home"),r.createElement("h2",null,"List of post id's"),r.createElement("ul",null,n.map(function(e){return r.createElement("li",{key:e.id},r.createElement(E,{post:e}))})))})),T=function(e){function t(){return Object(a.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.createElement(p.a,null,r.createElement("div",null,r.createElement(r.Suspense,{fallback:r.createElement("div",null,"LoaderOptionsPlugin...")},r.createElement(m.c,null,r.createElement(m.a,{exact:!0,path:"/",component:f}),r.createElement(m.a,{exact:!0,path:"/posts",render:function(e){return r.createElement(C,e)}})))))}}]),t}(r.Component),w=n(9),P=n(86),I="development"===window.APP_CONF.mode&&window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||w.d,F=n(87),k=n(74),N=n(81),q=n(50),U=n(82),H=n(83),J="https://ewlkjher.com",Y=n(84),x=n(85),Q=Object(F.a)(function(e,t,n){var o=n.api;return e.pipe(Object(N.a)(Object(O.isActionOf)(j.request)),Object(q.a)(function(e){return e.payload&&!0===e.payload.fail?(console.log("Simulating network error by requesting ".concat(J)),{action:e,url:J}):{action:e,url:"https://jsonplaceholder.typicode.com/posts"}}),Object(U.a)(function(e){return o.getJSON(e.url).pipe(Object(q.a)(j.success),Object(H.a)(function(t){return console.log("allPostsHandler dispatching a failure notification"),Object(k.a)(j.failure({fromAction:e.action.type,fromComponent:e.action.payload.componentId,message:t.message}))}))}))},function(e,t,n){n.api;return e.pipe(Object(N.a)(Object(O.isActionOf)(R)),Object(Y.a)(function(e){console.log("clearErrorEpic runnning for clearErrorAction ".concat(e.type)),e.payload&&e.payload.history&&e.payload.navigateTo&&(console.log("clearErrorEpic redirecting to ".concat(e.payload.navigateTo)),e.payload.history.push(e.payload.navigateTo))}),Object(x.a)())}),B=Object(O.createReducer)(!1).handleAction([j.request],function(){return!0}).handleAction([j.success,j.failure],function(){return!1}),D=Object(O.createReducer)([]).handleAction(j.success,function(e,t){return t.payload}),M=Object(w.c)({isLoadingPosts:B,posts:D}),W=Object(O.createReducer)([]).handleType(h.NOTIFY_ERROR,function(e,t){console.log("error reducer processing notification of an error from component... ".concat(t.payload.fromComponent));var n=function(e,t){return e.find(function(e){return e.fromComponent===t.fromComponent})?e.map(function(e){return e.fromComponent===t.fromComponent?t:e}):e.concat([t])}(e,t.payload);return console.log("error reducer state is now => ".concat(JSON.stringify(n))),n}).handleType(h.CLEAR_ERROR,function(e,t){return console.log("error reducer processing clear error action..."),function(e,t){return e.filter(function(e){return e.fromComponent!==t.fromComponent})}(e,t.payload)}),X=Object(w.c)({error:W}),G=Object(w.c)({posts:M,errors:X}),V={api:n(88).a},z=Object(P.a)({dependencies:V}),K=[z],Z=I(w.a.apply(void 0,K)),$=Object(w.e)(G,{},Z);z.run(Q);var ee=$,te=(n(76),document.getElementById("root"));Object(c.render)(r.createElement(d.a,{store:ee},r.createElement(T,null)),te)}},[[62,2,1]]]);
//# sourceMappingURL=main.3052c5bb.chunk.js.map